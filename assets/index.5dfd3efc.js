import{l as e,d as t,p as l,o as n,c as a,u as o,P as u,r,a as i,b as s,e as c,f as d,g as m,h as v,w as h,i as p,j as g,t as f,k as w,F as y,m as b,n as x}from"./vendor.31d60877.js";var k=t({expose:[],props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e;function i(){return l.highlight(r.modelValue,l.languages.molang)}return l.languages.molang={string:/(')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"function-name":/\b(?!\d)(math|query|q)\./i,selector:/\b(?!\d)(variable|temp|context|v|t|c)\./i,boolean:/\b(?:true|false)\b/i,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/&&|\|\||[-+*/!<>]=?|[:?=]/i,keyword:/\b(return|loop|for_each|continue|break)\b/i,punctuation:/[.,;()[\]{}]/},(l,r)=>(n(),a(o(u),{class:"molang-editor w-2/3",modelValue:e.modelValue,"onUpdate:modelValue":r[1]||(r[1]=e=>t("update:modelValue",e)),highlight:i,"line-numbers":""},null,8,["modelValue"]))}}),C=t({expose:[],emits:["click"],setup:(e,{emit:t})=>(e,l)=>(n(),a("button",{class:"\n\t\t\trounded-lg\n\t\t\tbg-[color:var(--v-primary-base,#3B82F6)]\n\t\t\ttext-white\n\t\t\tpx-2\n\t\t\tpy-1\n\t\t\tshadow-lg\n\t\t\ttransform\n\t\t\ttransition\n\t\t\thover:scale-110 hover:shadow-4xl\n\t\t\tactive:outline-none\n\t\t\tactive:ring-4\n\t\t\tactive:ring-blue-600\n\t\t\tactive:ring-opacity-50\n\t\t",onClick:l[1]||(l[1]=e=>t("click"))},[r(e.$slots,"default")]))});const z={},M={class:"inline fill-current",height:"24",width:"24",viewBox:"0 0 24 24"},V=i("path",{d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z",fill:"none"},null,-1),_=i("path",{fill:"currentColor",d:"M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z"},null,-1);z.render=function(e,t){return n(),a("svg",M,[V,_])};const H={},q={class:"inline fill-current",height:"24",width:"24",viewBox:"0 0 24 24"},D=i("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),E=i("path",{fill:"currentColor",stroke:"white",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},null,-1);H.render=function(e,t){return n(),a("svg",q,[D,E])};const L={},B={class:"inline fill-current",height:"24",width:"24",viewBox:"0 0 24 24"},I=i("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),P=i("path",{stroke:"white",fill:"currentColor",d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"},null,-1);L.render=function(e,t){return n(),a("svg",B,[I,P])};const S={},$={class:"inline fill-current",height:"24",width:"24",viewBox:"0 0 24 24"},U=i("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),F=i("path",{fill:"currentColor",d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},null,-1);S.render=function(e,t){return n(),a("svg",$,[U,F])};const O={},T={class:"inline fill-current",height:"24",width:"24",viewBox:"0 0 24 24"},R=i("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),j=i("path",{fill:"currentColor",d:"M8 5v14l11-7z"},null,-1);O.render=function(e,t){return n(),a("svg",T,[R,j])};const A={class:"absolute p-2 pt-0 top-0 right-0 w-1/3 h-screen overflow-y-scroll"},N={class:"\n\t\t\t\tpy-2\n\t\t\t\tmb-4\n\t\t\t\tsticky\n\t\t\t\ttop-0\n\t\t\t\tflex flex-wrap\n\t\t\t\tgap-2\n\t\t\t\tbg-[color:var(--v-background-base,#171717)]\n\t\t\t"},Y=w("Clear Console"),G={class:"tile mb-4"},J=i("h1",{class:"text-2xl"},"Output:",-1),K={class:"tile mb-4"},Q=i("h1",{class:"text-2xl"},"query.anim_time:",-1),W={class:"tile"},X=i("h1",{class:"text-2xl"},"Console:",-1),Z={key:0},ee={key:1};var te=t({expose:[],props:{embedded:{type:Boolean,required:!0}},setup(t){let l,o=Date.now(),u=Date.now();const r=s(function(){const t=new URLSearchParams(window.location.search).get("molang");if(t)return e.exports.decompressFromEncodedURIComponent(t)}()||localStorage.getItem("molang-code")||"math.pow(math.round(query.anim_time), 2)"),x=s(0),M=s(!1),V=s([]),_=s(!1),q=s(localStorage.getItem("molang-execution-mode")||"Manual");c();const D=s(0);function E(){localStorage.setItem("molang-code",r.value),"On Change"===q.value&&B()}function B(){try{x.value=l.execute(r.value),M.value=!1}catch(e){x.value=e.message,M.value=!0}u=Date.now()}function I(){o=Date.now(),u=Date.now()}function P(){navigator.clipboard.writeText(r.value)}function $(){navigator.clipboard.writeText(function(t){return"https://bridge-core.github.io/molang-playground/?molang="+e.exports.compressToEncodedURIComponent(t)}(r.value))}function U(){window.confirm("Are you sure that you want to clear the MoLang code?")&&(I(),r.value="")}function F(){V.value=[]}function T(){"Loop"===q.value?q.value="On Change":"On Change"===q.value?q.value="Manual":"Manual"===q.value&&(q.value="Loop"),localStorage.setItem("molang-execution-mode",q.value)}return d((()=>{const e=()=>(Date.now()-o)/1e3,t=e=>(V.value.push(e),e);l=new m({"query.anim_time":e,"query.delta_time":()=>Date.now()-u,"query.life_time":e,"query.log":t,"query.debug_output":t}),E();const n=()=>{_.value||(D.value=e(),"Loop"===q.value&&B(),requestAnimationFrame(n))};n()})),v((()=>{_.value=!0})),h(r,(()=>E())),(e,l)=>(n(),a(y,null,[i(k,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e)},null,8,["modelValue"]),i("div",A,[i("div",N,[i(C,{onClick:T},{default:p((()=>[w(" Execution: "+f(q.value),1)])),_:1}),"Manual"===q.value?(n(),a(C,{key:0,onClick:B},{default:p((()=>[i(O)])),_:1})):g("",!0),t.embedded?g("",!0):(n(),a(C,{key:1,onClick:P},{default:p((()=>[i(S)])),_:1})),t.embedded?g("",!0):(n(),a(C,{key:2,onClick:$},{default:p((()=>[i(L)])),_:1})),t.embedded?g("",!0):(n(),a(C,{key:3,onClick:U},{default:p((()=>[i(H)])),_:1})),i(C,{onClick:I},{default:p((()=>[i(z)])),_:1}),i(C,{onClick:F},{default:p((()=>[Y])),_:1})]),i("div",G,[J,i("p",{style:{color:M.value?"#d62828":"unset"}},f(x.value),5)]),i("div",K,[Q,w(" "+f(D.value),1)]),i("div",W,[X,0===V.value.length?(n(),a("p",Z,"[EMPTY]")):(n(),a("ul",ee,[(n(!0),a(y,null,b(V.value,((e,t)=>(n(),a("li",{key:t},f(e),1)))),128))]))])])],64))}});x(t({expose:[],setup(e){const t=s(!0),l=window.location!==window.parent.location;return d((()=>{window.addEventListener("message",(e=>{var l;if("set-color"===e.data.type)document.documentElement.style.setProperty(e.data.colorName,e.data.colorValue);else if("set-highlighter"===e.data.type){const{color:t,background:n,textDecoration:a,isItalic:o}=null!=(l=e.data.highlighterData)?l:{},u=e.data.highlighterName;document.documentElement.style.setProperty(`--v-${u}-base`,t),document.documentElement.style.setProperty(`--v-${u}-background`,n),document.documentElement.style.setProperty(`--v-${u}-font-style`,`${o?"italic ":""}${a}`)}else"set-dark-mode"===e.data.type&&(t.value=e.data.isDarkMode)}))})),(e,o)=>(n(),a("div",{class:["font-sans",{dark:t.value}]},[i(te,{embedded:l})],2))}})).mount("#app");
